---
description: 按 tasks.md 中定义的任务执行实现计划。
scripts:
  sh: scripts/bash/check-prerequisites.sh --json --require-tasks --include-tasks
  ps: scripts/powershell/check-prerequisites.ps1 -Json -RequireTasks -IncludeTasks
---

用户输入可由代理直接提供或作为命令参数传入——你**必须**在处理提示前考虑它（如不为空）。

User input:

$ARGUMENTS

1. 从仓库根运行 `{SCRIPT}`，解析 FEATURE_DIR 和 AVAILABLE_DOCS。所有路径须为绝对路径。

2. 加载并分析实现上下文：
   - **必需**：读取 tasks.md 获取完整任务清单与执行计划
   - **必需**：读取 plan.md 获取技术栈、架构、文件结构
   - **如有**：读取 data-model.md 获取实体与关系
   - **如有**：读取 contracts/ 获取 API 规范与测试要求
   - **如有**：读取 research.md 获取技术决策与约束
   - **如有**：读取 quickstart.md 获取集成场景

3. 解析 tasks.md 结构，提取：
   - **任务阶段**：环境搭建、测试、核心、集成、优化
   - **任务依赖**：顺序与并行规则
   - **任务详情**：ID、描述、文件路径、并行标记 [P]
   - **执行流程**：顺序与依赖要求

4. 按任务计划执行实现：
   - **分阶段执行**：每阶段完成后再进入下一阶段
   - **遵循依赖**：顺序任务按序执行，并行任务 [P] 可同时进行
   - **TDD 流程**：测试任务先于对应实现任务
   - **文件级协调**：同一文件任务须顺序执行
   - **校验检查点**：每阶段完成前校验

5. 实现执行规则：
   - **先搭建环境**：初始化项目结构、依赖、配置
   - **先写测试**：如需为合约、实体、集成场景写测试
   - **核心开发**：实现模型、服务、CLI 命令、端点
   - **集成开发**：数据库、中间件、日志、外部服务
   - **优化与验证**：单元测试、性能优化、文档

6. 进度追踪与错误处理：
   - 每完成一个任务报告进度
   - 非并行任务失败则中止
   - 并行任务 [P] 失败只报告，成功继续
   - 错误信息需包含调试上下文
   - 如无法继续，建议下一步
   - **重要**：已完成任务须在 tasks 文件中标记为 [X]

7. 完成校验：
   - 校验所有必需任务已完成
   - 检查实现功能与原规范一致
   - 验证测试通过且覆盖率达标
   - 确认实现符合技术方案
   - 输出最终状态与完成摘要

注意：本命令假定 tasks.md 已有完整任务分解。如任务不全或缺失，建议先运行 `/tasks` 重新生成。
